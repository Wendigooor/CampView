# Cursor Rules for TentView Development (Updated)

This file outlines how to use Cursor for semi-automated development in the TentView project â€” a scene viewed from inside a tent with changing weather and backgrounds.

## General Guidelines
- Use Cursor to scaffold and enhance code, but always manually tweak visuals and performance.
- Keep prompts **concrete, visual, and layered-based** for best results.
- Commit frequently, especially after structural updates or visual refactoring.

---

## ðŸ”§ New Cursor Tasks (Graphics & Realism)

### 1. Add Realistic Lighting and Shadows (Three.js)
**Prompt:**
> "In `graphics.js`, replace any `MeshLambertMaterial` with `MeshStandardMaterial`, add `DirectionalLight` and `HemisphereLight`, enable shadows via `renderer.shadowMap.enabled = true`. Make all scenery objects cast and receive shadows."

**Expected Result:**
- Scene uses physically-based rendering.
- Lights with direction and ambient tone.
- Shadows appear under trees, tent walls, rocks.

---

### 2. Add Atmospheric Fog for Depth
**Prompt:**
> "In `Scene3D.js`, add `scene.fog = new THREE.Fog(0xdedede, 5, 35)` for visual depth and realism."

---

### 3. Improve Terrain and Backgrounds
**Prompt:**
> "In `graphics.js`, for backgrounds like 'mountains' or 'lake', use `PlaneGeometry` + `displacementMap` to create terrain with elevation. Replace flat color blocks with texture maps or gradient shading."

---

### 4. Use HDRI or Skybox for Lighting Environment
**Prompt:**
> "Replace solid background color with HDRI or cube-textured skybox using `RGBELoader` or `CubeTextureLoader`. Set it as both `scene.environment` and `scene.background`."

---

### 5. Refactor Flat Water to Realistic Water
**Prompt:**
> "Replace current lake in `Scene3D.js` with `THREE.Water2` from `examples/jsm`, add bump map and reflection."

---

### 6. Add Light Animation to Campfire
**Prompt:**
> "In `events.js`, create soft animated light flicker effect at center-bottom of screen to simulate a campfire. Use PointLight with animated intensity."

---

### 7. Optimize Shadows for Performance
**Prompt:**
> "Lower shadow map size to 1024, use `PCFSoftShadowMap`, and enable shadows only for large meshes."

---

## Best Practices (Extended)
- Add `// Generated by Cursor` above every inserted block.
- Visual layers: `tent mask` (foreground), `scene` (midground), `sky` (background), `weather` (overlay), `event FX` (top overlay).
- Reuse canvas for weather overlays, don't create new ones per frame.
- For performance: throttle particle effects and shadow updates.

---

## Example Prompt (Improved Lake)
> "In `Scene3D.js`, replace the current `Plane` lake with `THREE.Water2`, textured with wave normal map and slight transparency. Reflect skybox."

---

## Follow-up Prompt After This File:
ðŸ“Œ **Now send this to Cursor:**
